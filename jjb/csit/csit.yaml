# Copyright (c) 2017 Cisco and/or its affiliates.
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at:
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.


- project:
    name: csit
    description: 'CSIT jenkins jobs.'
    os:
        - 'ubuntu1604'
        - 'centos7'

    jobs:
        - 'csit-dpdk-perf-{stream}-{type}'
        - 'csit-vpp-perf-{stream}-{type}'
        - 'csit-ligato-perf-{stream}-{type}'
        - 'csit-vpp-functional-{stream}-{os}-virl'
        - 'csit-vpp-verify-{stream_timed}-{os}-weekly'
        - 'csit-vpp-verify-{stream_timed}-{os}-semiweekly'
        - 'csit-docs-merge-{stream_timed}'
        - 'csit-docs-verify-{stream}'
        - 'csit-report-merge-{stream}'
        - 'csit-vpp-perf-trend-daily-master'
        - 'csit-vpp-perf-trend-semi-weekly-master'
        - 'csit-vpp-perf-check-{stream}'
        - 'csit-vpp-perf-mrr-daily-master'
        - 'csit-vpp-perf-verify-{stream}'
        - 'csit-nsh_sfc-verify-perf-{stream}'
        - 'csit-nsh_sfc-verify-func-{stream}-{os}-virl'
        - 'csit-tldk-verify-func-{stream}-{os}-virl'

    project: 'csit'
    branch: 'master'
    branch-id: 'oper'
    build-artifact-num-to-keep: 10
    type:
        - all
        - long
    stream_timed:
        - master:
            branch: 'master'
            branch-id: 'oper'
        - '1801':
            branch: 'rls1801'
            branch-id: 'oper-rls1801'
    stream:
        - master:
            branch: 'master'
            branch-id: 'oper'
        - '1701':
            branch: 'rls1701'
            branch-id: 'oper-rls1701'
        - '1704':
            branch: 'rls1704'
            branch-id: 'oper-rls1704'
        - '1707':
            branch: 'rls1707'
            branch-id: 'oper-rls1707'
        - '1710':
            branch: 'rls1710'
            branch-id: 'oper-rls1710'
        - '1801':
            branch: 'rls1801'
            branch-id: 'oper-rls1801'


- job-template:
    name: 'csit-vpp-functional-{stream}-{os}-virl'

    project-type: freestyle
    node: '{os}-basebuild-4c-4g'
    concurrent: true

    logrotate:
        daysToKeep: '{build-days-to-keep}'
        numToKeep: '{build-num-to-keep}'
        artifactDaysToKeep: '{build-artifact-days-to-keep}'
        artifactNumToKeep: '{build-artifact-num-to-keep}'

    parameters:
        - project-parameter:
            project: '{project}'
        - gerrit-parameter:
            branch: '{branch}'

    scm:
        - gerrit-trigger-scm:
            credentials-id: 'jenkins-gerrit-credentials'
            refspec: '$GERRIT_REFSPEC'
            choosing-strategy: 'gerrit'

    wrappers:
        - fdio-infra-wrappers:
            build-timeout: '{build-timeout}'

    triggers:
        - gerrit-trigger-patch-submitted:
            name: '{project}'
            branch: '{branch}'

    builders:
        - shell:
            !include-raw-escape: include-raw-csit-vpp-functional-virl.sh

    publishers:
        - archive-artifacts:
            artifacts: 'report.html, log.html, output.xml'
            latest-only: false

        - robot-report:
            output-path: ''

        - fdio-infra-shiplogs:
            maven-version: 'mvn33-new'

- job-template:
    name: 'csit-dpdk-perf-{stream}-{type}'

    project-type: freestyle
    node: 'ubuntu1604-basebuild-4c-4g'
    concurrent: false

    logrotate:
        daysToKeep: '{build-days-to-keep}'
        numToKeep: '{build-num-to-keep}'
        artifactDaysToKeep: '{build-artifact-days-to-keep}'
        artifactNumToKeep: '{build-artifact-num-to-keep}'

    parameters:
        - project-parameter:
            project: '{project}'
        - gerrit-parameter:
            branch: '{branch}'
        - type-parameter:
            type: '{type}'

    scm:
        - gerrit-trigger-scm:
            credentials-id: 'jenkins-gerrit-credentials'
            refspec: '$GERRIT_REFSPEC'
            choosing-strategy: 'gerrit'

    wrappers:
        - fdio-infra-wrappers-non-activity-timeout:
            build-timeout: '{build-timeout}'

    triggers:
        - gerrit-trigger-manually-triggered:
            name: '{project}'
            branch: '{branch}'
            comment-trigger-value: 'verify-perf-dpdk-{type}'

    builders:
        - shell:
            !include-raw-escape: jjb/csit/include-raw-csit-dpdk-perf-hw.sh

    publishers:
        - archive-artifacts:
            artifacts: 'archive/*.*'
            latest-only: false

        - robot:
            output-path: archive
            other-files:
              - '*.*'

        - plot:
            - title: '64B-1t1c-eth-l2xcbase-testpmd-ndrdisc'
              group: 'RFC2544: Xconnect'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-dpdk-perf-{stream}-{type}-l2-1.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and contains(@tags, "DPDK") and contains(@tags, "BASE") and contains(@tags, "NDRDISC") and contains(@tags, "1T1C") and contains(@tags, "L2XCFWD")]'
            - title: '64B-2t2c-eth-l2xcbase-testpmd-ndrdisc'
              group: 'RFC2544: Xconnect'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-dpdk-perf-{stream}-{type}-l2-2.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and contains(@tags, "DPDK") and contains(@tags, "BASE") and contains(@tags, "NDRDISC") and contains(@tags, "2T2C") and contains(@tags, "L2XCFWD")]'
            - title: '64B-4t4c-eth-l2xcbase-testpmd-ndrdisc'
              group: 'RFC2544: Xconnect'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-dpdk-perf-{stream}-{type}-l2-3.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and contains(@tags, "DPDK") and contains(@tags, "BASE") and contains(@tags, "NDRDISC") and contains(@tags, "4T4C") and contains(@tags, "L2XCFWD")]'
            - title: '64B-1t1c-eth-l2xcbase-testpmd-pdrdisc'
              group: 'RFC2544: Xconnect'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-dpdk-perf-{stream}-{type}-l2-4.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and contains(@tags, "DPDK") and contains(@tags, "BASE") and contains(@tags, "PDRDISC") and not(contains(@tags,"NDRDISC")) and contains(@tags, "1T1C") and contains(@tags, "L2XCFWD")]'
            - title: '64B-2t2c-eth-l2xcbase-testpmd-pdrdisc'
              group: 'RFC2544: Xconnect'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-dpdk-perf-{stream}-{type}-l2-5.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and contains(@tags, "DPDK") and contains(@tags, "BASE") and contains(@tags, "PDRDISC") and not(contains(@tags,"NDRDISC")) and contains(@tags, "2T2C") and contains(@tags, "L2XCFWD")]'
            - title: '64B-4t4c-eth-l2xcbase-testpmd-pdrdisc'
              group: 'RFC2544: Xconnect'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-dpdk-perf-{stream}-{type}-l2-6.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and contains(@tags, "DPDK") and contains(@tags, "BASE") and contains(@tags, "PDRDISC") and not(contains(@tags,"NDRDISC")) and contains(@tags, "4T4C") and contains(@tags, "L2XCFWD")]'

        - fdio-infra-shiplogs:
            maven-version: 'mvn33-new'

- job-template:
    name: 'csit-vpp-perf-{stream}-{type}'

    project-type: freestyle
    node: 'ubuntu1604-basebuild-8c-32g'
    concurrent: true

    logrotate:
        daysToKeep: '{build-days-to-keep}'
        numToKeep: '{build-num-to-keep}'
        artifactDaysToKeep: '{build-artifact-days-to-keep}'
        artifactNumToKeep: '{build-artifact-num-to-keep}'

    parameters:
        - project-parameter:
            project: '{project}'
        - gerrit-parameter:
            branch: '{branch}'
        - type-parameter:
            type: '{type}'

    scm:
        - gerrit-trigger-scm:
            credentials-id: 'jenkins-gerrit-credentials'
            refspec: '$GERRIT_REFSPEC'
            choosing-strategy: 'gerrit'

    wrappers:
        - fdio-infra-wrappers-non-activity-timeout:
            build-timeout: '{build-timeout}'

    triggers:
        - gerrit-trigger-manually-triggered:
            name: '{project}'
            branch: '{branch}'
            comment-trigger-value: 'verify-perf-{type}'

    builders:
        - shell:
            !include-raw-escape: jjb/csit/include-raw-csit-vpp-perf-hw.sh

    publishers:
        - archive-artifacts:
            artifacts: 'archive/*.*'
            latest-only: false

        - robot:
            output-path: archive
            other-files:
              - '*.*'

        - plot:
            - title: '64B-1t1c-eth-l2*-ndrdisc'
              group: 'RFC2544: Xconnect and Bridge Domain'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-l2-1.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "BASE") and contains(@tags, "NDRDISC") and contains(@tags, "1T1C") and (contains(@tags, "L2BDMACSTAT") or contains(@tags, "L2BDMACLRN") or contains(@tags, "L2XCFWD"))]'
            - title: '64B-2t2c-eth-l2*-ndrdisc'
              group: 'RFC2544: Xconnect and Bridge Domain'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-l2-2.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "BASE") and contains(@tags, "NDRDISC") and contains(@tags, "2T2C") and (contains(@tags, "L2BDMACSTAT") or contains(@tags, "L2BDMACLRN") or contains(@tags, "L2XCFWD"))]'
            - title: '64B-4t4c-eth-l2*-ndrdisc'
              group: 'RFC2544: Xconnect and Bridge Domain'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-l2-3.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "BASE") and contains(@tags, "NDRDISC") and contains(@tags, "4T4C") and (contains(@tags, "L2BDMACSTAT") or contains(@tags, "L2BDMACLRN") or contains(@tags, "L2XCFWD"))]'
            - title: '64B-1t1c-eth-l2*-pdrdisc'
              group: 'RFC2544: Xconnect and Bridge Domain'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-l2-4.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "BASE") and contains(@tags, "PDRDISC") and not(contains(@tags,"NDRDISC")) and contains(@tags, "1T1C") and (contains(@tags, "L2BDMACSTAT") or contains(@tags, "L2BDMACLRN") or contains(@tags, "L2XCFWD"))]'
            - title: '64B-2t2c-eth-l2*-pdrdisc'
              group: 'RFC2544: Xconnect and Bridge Domain'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-l2-5.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "BASE") and contains(@tags, "PDRDISC") and not(contains(@tags,"NDRDISC")) and contains(@tags, "2T2C") and (contains(@tags, "L2BDMACSTAT") or contains(@tags, "L2BDMACLRN") or contains(@tags, "L2XCFWD"))]'
            - title: '64B-4t4c-eth-l2*-pdrdisc'
              group: 'RFC2544: Xconnect and Bridge Domain'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-l2-6.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "BASE") and contains(@tags, "PDRDISC") and not(contains(@tags,"NDRDISC")) and contains(@tags, "4T4C") and (contains(@tags, "L2BDMACSTAT") or contains(@tags, "L2BDMACLRN") or contains(@tags, "L2XCFWD"))]'

            - title: '64B-1t1c-ethip4-ip4*-ndrdisc'
              group: 'RFC2544: IPv4 base, scale, feature'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-ipv4-1.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and (contains(@tags, "BASE") or contains(@tags, "SCALE") or contains(@tags, "FEATURE")) and contains(@tags, "NDRDISC") and contains(@tags, "1T1C") and contains(@tags, "IP4FWD")]'
            - title: '64B-2t2c-ethip4-ip4*-ndrdisc'
              group: 'RFC2544: IPv4 base, scale, feature'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-ipv4-2.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and (contains(@tags, "BASE") or contains(@tags, "SCALE") or contains(@tags, "FEATURE")) and contains(@tags, "NDRDISC") and contains(@tags, "2T2C") and contains(@tags, "IP4FWD")]'
            - title: '64B-4t4c-ethip4-ip4*-ndrdisc'
              group: 'RFC2544: IPv4 base, scale, feature'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-ipv4-3.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and (contains(@tags, "BASE") or contains(@tags, "SCALE") or contains(@tags, "FEATURE")) and contains(@tags, "NDRDISC") and contains(@tags, "4T4C") and contains(@tags, "IP4FWD")]'
            - title: '64B-1t1c-ethip4-ip4*-pdrdisc'
              group: 'RFC2544: IPv4 base, scale, feature'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-ipv4-4.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and (contains(@tags, "BASE") or contains(@tags, "SCALE") or contains(@tags, "FEATURE")) and contains(@tags, "PDRDISC") and not(contains(@tags,"NDRDISC")) and contains(@tags, "1T1C") and contains(@tags, "IP4FWD")]'
            - title: '64B-2t2c-ethip4-ip4*-pdrdisc'
              group: 'RFC2544: IPv4 base, scale, feature'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-ipv4-5.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and (contains(@tags, "BASE") or contains(@tags, "SCALE") or contains(@tags, "FEATURE")) and contains(@tags, "PDRDISC") and not(contains(@tags,"NDRDISC")) and contains(@tags, "2T2C") and contains(@tags, "IP4FWD")]'
            - title: '64B-4t4c-ethip4-ip4*-pdrdisc'
              group: 'RFC2544: IPv4 base, scale, feature'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-ipv4-6.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and (contains(@tags, "BASE") or contains(@tags, "SCALE") or contains(@tags, "FEATURE")) and contains(@tags, "PDRDISC") and not(contains(@tags,"NDRDISC")) and contains(@tags, "4T4C") and contains(@tags, "IP4FWD")]'

            - title: '78B-1t1c-ethip6-ip6*-ndrdisc'
              group: 'RFC2544: IPv6 base, scale, feature'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-ipv6-1.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and (contains(@tags, "BASE") or contains(@tags, "SCALE") or contains(@tags, "FEATURE")) and contains(@tags, "NDRDISC") and contains(@tags, "1T1C") and contains(@tags, "IP6FWD")]'
            - title: '78B-2t2c-ethip6-ip6*-ndrdisc'
              group: 'RFC2544: IPv6 base, scale, feature'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-ipv6-2.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and (contains(@tags, "BASE") or contains(@tags, "SCALE") or contains(@tags, "FEATURE")) and contains(@tags, "NDRDISC") and contains(@tags, "2T2C") and contains(@tags, "IP6FWD")]'
            - title: '78B-4t4c-ethip6-ip6*-ndrdisc'
              group: 'RFC2544: IPv6 base, scale, feature'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-ipv6-3.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and (contains(@tags, "BASE") or contains(@tags, "SCALE") or contains(@tags, "FEATURE")) and contains(@tags, "NDRDISC") and contains(@tags, "4T4C") and contains(@tags, "IP6FWD")]'
            - title: '78B-1t1c-ethip6-ip6*-pdrdisc'
              group: 'RFC2544: IPv6 base, scale, feature'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-ipv6-4.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and (contains(@tags, "BASE") or contains(@tags, "SCALE") or contains(@tags, "FEATURE")) and contains(@tags, "PDRDISC") and not(contains(@tags,"NDRDISC")) and contains(@tags, "1T1C") and contains(@tags, "IP6FWD")]'
            - title: '78B-2t2c-ethip6-ip6*-pdrdisc'
              group: 'RFC2544: IPv6 base, scale, feature'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-ipv6-5.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and (contains(@tags, "BASE") or contains(@tags, "SCALE") or contains(@tags, "FEATURE")) and contains(@tags, "PDRDISC") and not(contains(@tags,"NDRDISC")) and contains(@tags, "2T2C") and contains(@tags, "IP6FWD")]'
            - title: '78B-4t4c-ethip6-ip6*-pdrdisc'
              group: 'RFC2544: IPv6 base, scale, feature'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-ipv6-6.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and (contains(@tags, "BASE") or contains(@tags, "SCALE") or contains(@tags, "FEATURE")) and contains(@tags, "PDRDISC") and not(contains(@tags,"NDRDISC")) and contains(@tags, "4T4C") and contains(@tags, "IP6FWD")]'

            - title: '64B-1t1c-ethip4*-ndrdisc'
              group: 'RFC2544: Overlay tunnels - LISP, VXLAN, GPE, GRE'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-encap-1.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "NDRDISC") and contains(@tags, "1T1C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE"))]'
            - title: '64B-2t2c-ethip4*-ndrdisc'
              group: 'RFC2544: Overlay tunnels - LISP, VXLAN, GPE, GRE'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-encap-2.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "NDRDISC") and contains(@tags, "2T2C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE"))]'
            - title: '64B-4t4c-ethip4*-ndrdisc'
              group: 'RFC2544: Overlay tunnels - LISP, VXLAN, GPE, GRE'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-encap-3.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "NDRDISC") and contains(@tags, "4T4C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE"))]'
            - title: '64B-1t1c-ethip4*-pdrdisc'
              group: 'RFC2544: Overlay tunnels - LISP, VXLAN, GPE, GRE'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-encap-4.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "PDRDISC") and not(contains(@tags,"NDRDISC")) and contains(@tags, "1T1C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE"))]'
            - title: '64B-2t2c-ethip4*-pdrdisc'
              group: 'RFC2544: Overlay tunnels - LISP, VXLAN, GPE, GRE'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-encap-5.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "PDRDISC") and not(contains(@tags,"NDRDISC")) and contains(@tags, "2T2C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE"))]'
            - title: '64B-4t4c-ethip4*-pdrdisc'
              group: 'RFC2544: Overlay tunnels - LISP, VXLAN, GPE, GRE'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-encap-6.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "PDRDISC") and not(contains(@tags,"NDRDISC")) and contains(@tags, "4T4C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE"))]'
            - title: '78B-1t1c-ethip6*-ndrdisc'
              group: 'RFC2544: Overlay tunnels - LISP, VXLAN, GPE, GRE'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-encap-7.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "NDRDISC") and contains(@tags, "1T1C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE"))]'
            - title: '78B-2t2c-ethip6*-ndrdisc'
              group: 'RFC2544: Overlay tunnels - LISP, VXLAN, GPE, GRE'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-encap-8.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "NDRDISC") and contains(@tags, "2T2C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE"))]'
            - title: '78B-4t4c-ethip6*-ndrdisc'
              group: 'RFC2544: Overlay tunnels - LISP, VXLAN, GPE, GRE'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-encap-9.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "NDRDISC") and contains(@tags, "4T4C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE"))]'
            - title: '78B-1t1c-ethip6*-pdrdisc'
              group: 'RFC2544: Overlay tunnels - LISP, VXLAN, GPE, GRE'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-encap-10.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "PDRDISC") and not(contains(@tags,"NDRDISC")) and contains(@tags, "1T1C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE"))]'
            - title: '78B-2t2c-ethip6*-pdrdisc'
              group: 'RFC2544: Overlay tunnels - LISP, VXLAN, GPE, GRE'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-encap-11.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "PDRDISC") and not(contains(@tags,"NDRDISC")) and contains(@tags, "2T2C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE"))]'
            - title: '78B-4t4c-ethip6*-pdrdisc'
              group: 'RFC2544: Overlay tunnels - LISP, VXLAN, GPE, GRE'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-encap-12.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "PDRDISC") and not(contains(@tags,"NDRDISC")) and contains(@tags, "4T4C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE"))]'

            - title: '64B-1t1c-ethip4*-ndrdisc'
              group: 'RFC2544: Crypto in software: IP4FWD, IP6FWD'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-crypto-sw-1.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "IP4FWD") and contains(@tags, "NDRDISC") and contains(@tags, "1T1C") and contains(@tags, "IPSECSW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '64B-2t2c-ethip4*-ndrdisc'
              group: 'RFC2544: Crypto in software: IP4FWD, IP6FWD'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-crypto-sw-2.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "IP4FWD") and contains(@tags, "NDRDISC") and contains(@tags, "2T2C") and contains(@tags, "IPSECSW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '64B-4t4c-ethip4*-ndrdisc'
              group: 'RFC2544: Crypto in software: IP4FWD, IP6FWD'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-crypto-sw-3.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "IP4FWD") and contains(@tags, "NDRDISC") and contains(@tags, "4T4C") and contains(@tags, "IPSECSW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '64B-1t1c-ethip4*-pdrdisc'
              group: 'RFC2544: Crypto in software: IP4FWD, IP6FWD'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-crypto-sw-4.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "IP4FWD") and contains(@tags, "PDRDISC") and not(contains(@tags,"NDRDISC")) and contains(@tags, "1T1C") and contains(@tags, "IPSECSW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '64B-2t2c-ethip4*-pdrdisc'
              group: 'RFC2544: Crypto in software: IP4FWD, IP6FWD'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-crypto-sw-5.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "IP4FWD") and contains(@tags, "PDRDISC") and not(contains(@tags,"NDRDISC")) and contains(@tags, "2T2C") and contains(@tags, "IPSECSW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '64B-4t4c-ethip4*-pdrdisc'
              group: 'RFC2544: Crypto in software: IP4FWD, IP6FWD'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-crypto-sw-6.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "IP4FWD") and contains(@tags, "PDRDISC") and not(contains(@tags,"NDRDISC")) and contains(@tags, "4T4C") and contains(@tags, "IPSECSW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '78B-1t1c-ethip6*-ndrdisc'
              group: 'RFC2544: Crypto in software: IP4FWD, IP6FWD'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-crypto-sw-7.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "IP6FWD") and contains(@tags, "NDRDISC") and contains(@tags, "1T1C") and contains(@tags, "IPSECSW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '78B-2t2c-ethip6*-ndrdisc'
              group: 'RFC2544: Crypto in software: IP4FWD, IP6FWD'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-crypto-sw-8.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "IP6FWD") and contains(@tags, "NDRDISC") and contains(@tags, "2T2C") and contains(@tags, "IPSECSW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '78B-4t4c-ethip6*-ndrdisc'
              group: 'RFC2544: Crypto in software: IP4FWD, IP6FWD'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-crypto-sw-9.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "IP6FWD") and contains(@tags, "NDRDISC") and contains(@tags, "4T4C") and contains(@tags, "IPSECSW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '78B-1t1c-ethip6*-pdrdisc'
              group: 'RFC2544: Crypto in software: IP4FWD, IP6FWD'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-crypto-sw-10.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "IP6FWD") and contains(@tags, "PDRDISC") and not(contains(@tags,"NDRDISC")) and contains(@tags, "1T1C") and contains(@tags, "IPSECSW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '78B-2t2c-ethip6*-pdrdisc'
              group: 'RFC2544: Crypto in software: IP4FWD, IP6FWD'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-crypto-sw-11.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "IP6FWD") and contains(@tags, "PDRDISC") and not(contains(@tags,"NDRDISC")) and contains(@tags, "2T2C") and contains(@tags, "IPSECSW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '78B-4t4c-ethip6*-pdrdisc'
              group: 'RFC2544: Crypto in software: IP4FWD, IP6FWD'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-crypto-sw-12.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "IP6FWD") and contains(@tags, "PDRDISC") and not(contains(@tags,"NDRDISC")) and contains(@tags, "4T4C") and contains(@tags, "IPSECSW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'

            - title: '64B-1t1c-ethip4*-ndrdisc'
              group: 'RFC2544: Crypto in hardware: IP4FWD, IP6FWD'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-crypto-hw-1.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "IP4FWD") and contains(@tags, "NDRDISC") and contains(@tags, "1T1C") and contains(@tags, "IPSECHW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '64B-2t2c-ethip4*-ndrdisc'
              group: 'RFC2544: Crypto in hardware: IP4FWD, IP6FWD'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-crypto-hw-2.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "IP4FWD") and contains(@tags, "NDRDISC") and contains(@tags, "2T2C") and contains(@tags, "IPSECHW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '64B-4t4c-ethip4*-ndrdisc'
              group: 'RFC2544: Crypto in hardware: IP4FWD, IP6FWD'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-crypto-hw-3.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "IP4FWD") and contains(@tags, "NDRDISC") and contains(@tags, "4T4C") and contains(@tags, "IPSECHW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '64B-1t1c-ethip4*-pdrdisc'
              group: 'RFC2544: Crypto in hardware: IP4FWD, IP6FWD'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-crypto-hw-4.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "IP4FWD") and contains(@tags, "PDRDISC") and not(contains(@tags,"NDRDISC")) and contains(@tags, "1T1C") and contains(@tags, "IPSECHW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '64B-2t2c-ethip4*-pdrdisc'
              group: 'RFC2544: Crypto in hardware: IP4FWD, IP6FWD'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-crypto-hw-5.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "IP4FWD") and contains(@tags, "PDRDISC") and not(contains(@tags,"NDRDISC")) and contains(@tags, "2T2C") and contains(@tags, "IPSECHW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '64B-4t4c-ethip4*-pdrdisc'
              group: 'RFC2544: Crypto in hardware: IP4FWD, IP6FWD'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-crypto-hw-6.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "IP4FWD") and contains(@tags, "PDRDISC") and not(contains(@tags,"NDRDISC")) and contains(@tags, "4T4C") and contains(@tags, "IPSECHW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '78B-1t1c-ethip6*-ndrdisc'
              group: 'RFC2544: Crypto in hardware: IP4FWD, IP6FWD'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-crypto-hw-7.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "IP6FWD") and contains(@tags, "NDRDISC") and contains(@tags, "1T1C") and contains(@tags, "IPSECHW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '78B-2t2c-ethip6*-ndrdisc'
              group: 'RFC2544: Crypto in hardware: IP4FWD, IP6FWD'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-crypto-hw-8.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "IP6FWD") and contains(@tags, "NDRDISC") and contains(@tags, "2T2C") and contains(@tags, "IPSECHW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '78B-4t4c-ethip6*-ndrdisc'
              group: 'RFC2544: Crypto in hardware: IP4FWD, IP6FWD'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-crypto-hw-9.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "IP6FWD") and contains(@tags, "NDRDISC") and contains(@tags, "4T4C") and contains(@tags, "IPSECHW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '78B-1t1c-ethip6*-pdrdisc'
              group: 'RFC2544: Crypto in hardware: IP4FWD, IP6FWD'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-crypto-hw-10.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "IP6FWD") and contains(@tags, "PDRDISC") and not(contains(@tags,"NDRDISC")) and contains(@tags, "1T1C") and contains(@tags, "IPSECHW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '78B-2t2c-ethip6*-pdrdisc'
              group: 'RFC2544: Crypto in hardware: IP4FWD, IP6FWD'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-crypto-hw-11.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "IP6FWD") and contains(@tags, "PDRDISC") and not(contains(@tags,"NDRDISC")) and contains(@tags, "2T2C") and contains(@tags, "IPSECHW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '78B-4t4c-ethip6*-pdrdisc'
              group: 'RFC2544: Crypto in hardware: IP4FWD, IP6FWD'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-crypto-hw-12.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "IP6FWD") and contains(@tags, "PDRDISC") and not(contains(@tags,"NDRDISC")) and contains(@tags, "4T4C") and contains(@tags, "IPSECHW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'

            - title: '64B-1t1c-ethip4*-ndrdisc'
              group: 'RFC2544: Overlay tunnels with crypto in software'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-encap-crypto-sw-1.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "NDRDISC") and contains(@tags, "1T1C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE")) and contains(@tags, "IPSECSW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '64B-2t2c-ethip4*-ndrdisc'
              group: 'RFC2544: Overlay tunnels with crypto in software'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-encap-crypto-sw-2.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "NDRDISC") and contains(@tags, "2T2C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE")) and contains(@tags, "IPSECSW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '64B-4t4c-ethip4*-ndrdisc'
              group: 'RFC2544: Overlay tunnels with crypto in software'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-encap-crypto-sw-3.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "NDRDISC") and contains(@tags, "4T4C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE")) and contains(@tags, "IPSECSW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '64B-1t1c-ethip4*-pdrdisc'
              group: 'RFC2544: Overlay tunnels with crypto in software'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-encap-crypto-sw-4.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "PDRDISC") and not(contains(@tags,"NDRDISC")) and contains(@tags, "1T1C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE")) and contains(@tags, "IPSECSW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '64B-2t2c-ethip4*-pdrdisc'
              group: 'RFC2544: Overlay tunnels with crypto in software'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-encap-crypto-sw-5.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "PDRDISC") and not(contains(@tags,"NDRDISC")) and contains(@tags, "2T2C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE")) and contains(@tags, "IPSECSW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '64B-4t4c-ethip4*-pdrdisc'
              group: 'RFC2544: Overlay tunnels with crypto in software'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-encap-crypto-sw-6.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "PDRDISC") and not(contains(@tags,"NDRDISC")) and contains(@tags, "4T4C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE")) and contains(@tags, "IPSECSW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '78B-1t1c-ethip6*-ndrdisc'
              group: 'RFC2544: Overlay tunnels with crypto in software'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-encap-crypto-sw-7.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "NDRDISC") and contains(@tags, "1T1C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE")) and contains(@tags, "IPSECSW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '78B-2t2c-ethip6*-ndrdisc'
              group: 'RFC2544: Overlay tunnels with crypto in software'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-encap-crypto-sw-8.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "NDRDISC") and contains(@tags, "2T2C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE")) and contains(@tags, "IPSECSW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '78B-4t4c-ethip6*-ndrdisc'
              group: 'RFC2544: Overlay tunnels with crypto in software'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-encap-crypto-sw-9.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "NDRDISC") and contains(@tags, "4T4C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE")) and contains(@tags, "IPSECSW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '78B-1t1c-ethip6*-pdrdisc'
              group: 'RFC2544: Overlay tunnels with crypto in software'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-encap-crypto-sw-10.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "PDRDISC") and not(contains(@tags,"NDRDISC")) and contains(@tags, "1T1C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE")) and contains(@tags, "IPSECSW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '78B-2t2c-ethip6*-pdrdisc'
              group: 'RFC2544: Overlay tunnels with crypto in software'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-encap-crypto-sw-11.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "PDRDISC") and not(contains(@tags,"NDRDISC")) and contains(@tags, "2T2C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE")) and contains(@tags, "IPSECSW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '78B-4t4c-ethip6*-pdrdisc'
              group: 'RFC2544: Overlay tunnels with crypto in software'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-encap-crypto-sw-12.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "PDRDISC") and not(contains(@tags,"NDRDISC")) and contains(@tags, "4T4C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE")) and contains(@tags, "IPSECSW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'

            - title: '64B-1t1c-ethip4*-ndrdisc'
              group: 'RFC2544: Overlay tunnels with crypto in hardware'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-encap-crypto-hw-1.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "NDRDISC") and contains(@tags, "1T1C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE")) and contains(@tags, "IPSECHW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '64B-2t2c-ethip4*-ndrdisc'
              group: 'RFC2544: Overlay tunnels with crypto in hardware'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-encap-crypto-hw-2.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "NDRDISC") and contains(@tags, "2T2C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE")) and contains(@tags, "IPSECHW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '64B-4t4c-ethip4*-ndrdisc'
              group: 'RFC2544: Overlay tunnels with crypto in hardware'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-encap-crypto-hw-3.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "NDRDISC") and contains(@tags, "4T4C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE")) and contains(@tags, "IPSECHW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '64B-1t1c-ethip4*-pdrdisc'
              group: 'RFC2544: Overlay tunnels with crypto in hardware'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-encap-crypto-hw-4.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "PDRDISC") and not(contains(@tags,"NDRDISC")) and contains(@tags, "1T1C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE")) and contains(@tags, "IPSECHW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '64B-2t2c-ethip4*-pdrdisc'
              group: 'RFC2544: Overlay tunnels with crypto in hardware'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-encap-crypto-hw-5.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "PDRDISC") and not(contains(@tags,"NDRDISC")) and contains(@tags, "2T2C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE")) and contains(@tags, "IPSECHW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '64B-4t4c-ethip4*-pdrdisc'
              group: 'RFC2544: Overlay tunnels with crypto in hardware'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-encap-crypto-hw-6.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "PDRDISC") and not(contains(@tags,"NDRDISC")) and contains(@tags, "4T4C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE")) and contains(@tags, "IPSECHW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '78B-1t1c-ethip6*-ndrdisc'
              group: 'RFC2544: Overlay tunnels with crypto in hardware'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-encap-crypto-hw-7.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "NDRDISC") and contains(@tags, "1T1C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE")) and contains(@tags, "IPSECHW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '78B-2t2c-ethip6*-ndrdisc'
              group: 'RFC2544: Overlay tunnels with crypto in hardware'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-encap-crypto-hw-8.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "NDRDISC") and contains(@tags, "2T2C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE")) and contains(@tags, "IPSECHW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '78B-4t4c-ethip6*-ndrdisc'
              group: 'RFC2544: Overlay tunnels with crypto in hardware'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-encap-crypto-hw-9.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "NDRDISC") and contains(@tags, "4T4C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE")) and contains(@tags, "IPSECHW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '78B-1t1c-ethip6*-pdrdisc'
              group: 'RFC2544: Overlay tunnels with crypto in hardware'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-encap-crypto-hw-10.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "PDRDISC") and not(contains(@tags,"NDRDISC")) and contains(@tags, "1T1C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE")) and contains(@tags, "IPSECHW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '78B-2t2c-ethip6*-pdrdisc'
              group: 'RFC2544: Overlay tunnels with crypto in hardware'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-encap-crypto-hw-11.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "PDRDISC") and not(contains(@tags,"NDRDISC")) and contains(@tags, "2T2C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE")) and contains(@tags, "IPSECHW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '78B-4t4c-ethip6*-pdrdisc'
              group: 'RFC2544: Overlay tunnels with crypto in hardware'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-encap-crypto-hw-12.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "PDRDISC") and not(contains(@tags,"NDRDISC")) and contains(@tags, "4T4C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE")) and contains(@tags, "IPSECHW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'

            - title: '64B-1t1c-*-vhost-*-ndrdisc'
              group: 'RFC2544: vhost-user'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-vhost-1.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and contains(@tags, "NDRDISC") and contains(@tags, "1T1C") and contains(@tags, "VHOST") and (contains(@tags, "ETH") or contains(@tags, "DOT1Q") or contains(@tags, "VXLAN"))]'
            - title: '64B-2t2c-*-vhost-*-ndrdisc'
              group: 'RFC2544: vhost-user'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-vhost-2.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and contains(@tags, "NDRDISC") and contains(@tags, "2T2C") and contains(@tags, "VHOST") and (contains(@tags, "ETH") or contains(@tags, "DOT1Q") or contains(@tags, "VXLAN"))]'
            - title: '64B-4t4c-*-vhost-*-ndrdisc'
              group: 'RFC2544: vhost-user'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-vhost-3.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and contains(@tags, "NDRDISC") and contains(@tags, "4T4C") and contains(@tags, "VHOST") and (contains(@tags, "ETH") or contains(@tags, "DOT1Q") or contains(@tags, "VXLAN"))]'
            - title: '64B-1t1c-*-vhost-*-pdrdisc'
              group: 'RFC2544: vhost-user'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-vhost-4.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and contains(@tags, "PDRDISC") and not(contains(@tags,"NDRDISC")) and contains(@tags, "1T1C") and contains(@tags, "VHOST") and (contains(@tags, "ETH") or contains(@tags, "DOT1Q") or contains(@tags, "VXLAN"))]'
            - title: '64B-2t2c-*-vhost-*-pdrdisc'
              group: 'RFC2544: vhost-user'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-vhost-5.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and contains(@tags, "PDRDISC") and not(contains(@tags,"NDRDISC")) and contains(@tags, "2T2C") and contains(@tags, "VHOST") and (contains(@tags, "ETH") or contains(@tags, "DOT1Q") or contains(@tags, "VXLAN"))]'
            - title: '64B-4t4c-*-vhost-*-pdrdisc'
              group: 'RFC2544: vhost-user'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-{stream}-{type}-vhost-6.csv'
              series:
                  - file: 'output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and contains(@tags, "PDRDISC") and not(contains(@tags,"NDRDISC")) and contains(@tags, "4T4C") and contains(@tags, "VHOST") and (contains(@tags, "ETH") or contains(@tags, "DOT1Q") or contains(@tags, "VXLAN"))]'

        - fdio-infra-shiplogs:
            maven-version: 'mvn33-new'

- job-template:
    name: 'csit-ligato-perf-{stream}-{type}'

    project-type: freestyle
    node: 'ubuntu1604-basebuild-4c-4g'
    concurrent: true

    logrotate:
        daysToKeep: '{build-days-to-keep}'
        numToKeep: '{build-num-to-keep}'
        artifactDaysToKeep: '{build-artifact-days-to-keep}'
        artifactNumToKeep: '{build-artifact-num-to-keep}'

    parameters:
        - project-parameter:
            project: '{project}'
        - gerrit-parameter:
            branch: '{branch}'
        - type-parameter:
            type: '{type}'

    scm:
        - gerrit-trigger-scm:
            credentials-id: 'jenkins-gerrit-credentials'
            refspec: '$GERRIT_REFSPEC'
            choosing-strategy: 'gerrit'

    wrappers:
        - fdio-infra-wrappers-non-activity-timeout:
            build-timeout: '{build-timeout}'

    triggers:
        - gerrit-trigger-manually-triggered:
            name: '{project}'
            branch: '{branch}'
            comment-trigger-value: 'verify-perf-ligato-{type}'

    builders:
        - shell:
            !include-raw-escape: jjb/csit/include-raw-csit-ligato-perf-hw.sh

    publishers:
        - archive-artifacts:
            artifacts: 'archive/*.*'
            latest-only: false

        - robot:
            output-path: archive
            other-files:
              - '*.*'

        - fdio-infra-shiplogs:
            maven-version: 'mvn33-new'


- job-template:
    name: 'csit-vpp-verify-{stream_timed}-{os}-weekly'
    description: 'Purpose of this job is to validate CSIT code of corresponding branch against verified vpp build from corresponding branch.'

    project-type: freestyle
    node: '{os}-basebuild-4c-4g'
    concurrent: false

    logrotate:
        daysToKeep: '{build-days-to-keep}'
        numToKeep: '{build-num-to-keep}'
        artifactDaysToKeep: '{build-artifact-days-to-keep}'
        artifactNumToKeep: '{build-artifact-num-to-keep}'

    parameters:
        - project-parameter:
            project: '{project}'
        - gerrit-parameter:
            branch: '{branch}'

    scm:
        - git-scm:
            credentials-id: 'jenkins-gerrit-credentials'
            branch: '{branch}'

    wrappers:
        - fdio-infra-wrappers-non-activity-timeout:
            build-timeout: '{build-timeout}'

    triggers:
        - timed: '0 4 * * 0'

        - gerrit-trigger-manually-triggered:
            comment-trigger-value: 'csit-vpp-ref-verify'
            name: '{project}'
            branch: '{branch}'

    builders:
        - shell:
            !include-raw-escape: jjb/csit/include-raw-csit-vpp-verify-weekly.sh

    publishers:
        - archive-artifacts:
            artifacts: 'report.html, log.html, output.xml'
            latest-only: false

        - robot-report:
            output-path: ''

        - fdio-infra-shiplogs:
            maven-version: 'mvn33-new'

- job-template:
    name: 'csit-vpp-verify-{stream_timed}-{os}-semiweekly'
    description: 'Purpose of this job is to validate latest vpp build from corresponding branch stored in nexus against verified CSIT codebase of corresponding branch.'

    project-type: freestyle
    node: '{os}-basebuild-4c-4g'
    concurrent: false

    logrotate:
        daysToKeep: '{build-days-to-keep}'
        numToKeep: '{build-num-to-keep}'
        artifactDaysToKeep: '{build-artifact-days-to-keep}'
        artifactNumToKeep: '{build-artifact-num-to-keep}'

    parameters:
        - project-parameter:
            project: '{project}'
        - gerrit-parameter:
            branch: '{branch}'

    wrappers:
        - fdio-infra-wrappers-non-activity-timeout:
            build-timeout: '{build-timeout}'

    triggers:
        - timed: '0 4 * * 2,6'

        - gerrit-trigger-manually-triggered:
            comment-trigger-value: 'csit-verify-vpp'
            name: '{project}'
            branch: '{branch}'

    builders:
        - shell: 'echo "BRANCH_ID={branch-id}" > $WORKSPACE/variables.prop'
        - inject:
            properties-file: variables.prop
        - shell:
            !include-raw-escape: jjb/csit/include-raw-csit-vpp-verify-semiweekly.sh

    publishers:
        - archive-artifacts:
            artifacts: 'csit/archive/*.*'
            latest-only: false

        - robot-report:
            output-path: 'csit/archive'

        - fdio-infra-shiplogs:
            maven-version: 'mvn33-new'

- job-template:
    name: 'csit-vpp-verify-{stream_timed}-centos7-nightly'
    description: 'Purpose of this job is to validate latest centos7 vpp build from corresponding branch stored in nexus against verified CSIT codebase of corresponding branch.'

    project-type: freestyle
    node: centos7-basebuild-4c-4g'
    concurrent: false

    logrotate:
        daysToKeep: '{build-days-to-keep}'
        numToKeep: '{build-num-to-keep}'
        artifactDaysToKeep: '{build-artifact-days-to-keep}'
        artifactNumToKeep: '{build-artifact-num-to-keep}'

    parameters:
        - project-parameter:
            project: '{project}'
        - gerrit-parameter:
            branch: '{branch}'

    scm:
        - git-scm:
            credentials-id: 'jenkins-gerrit-credentials'
            branch: '{branch}'

    wrappers:
        - fdio-infra-wrappers:
            build-timeout: '{build-timeout}'

    triggers:
        - timed: 'H H(3-4) * * *'

        - gerrit-trigger-manually-triggered:
            comment-trigger-value: 'vpp-verify-func-centos7'
            name: '{project}'
            branch: '{branch}'

    builders:
        - shell: 'echo "BRANCH_ID={branch-id}" > $WORKSPACE/variables.prop'
        - inject:
            properties-file: variables.prop
        - shell:
            !include-raw-escape: jjb/csit/include-raw-csit-vpp-functional-virl.sh

    publishers:
        - archive-artifacts:
            artifacts: 'csit/archive/*.*'
            latest-only: false

        - robot-report:
            output-path: 'csit/archive'

        - fdio-infra-shiplogs:
            maven-version: 'mvn33-new'

- job-template:
    name: 'csit-docs-verify-{stream}'

    project-type: freestyle
    node: 'ubuntu1604-basebuild-4c-4g'
    concurrent: true

    logrotate:
        daysToKeep: '{build-days-to-keep}'
        numToKeep: '{build-num-to-keep}'
        artifactDaysToKeep: '{build-artifact-days-to-keep}'
        artifactNumToKeep: '{build-artifact-num-to-keep}'

    parameters:
        - project-parameter:
            project: '{project}'
        - gerrit-parameter:
            branch: '{branch}'
        - maven-exec:
            maven-version: 'mvn33-new'

    scm:
        - gerrit-trigger-scm:
            credentials-id: 'jenkins-gerrit-credentials'
            refspec: '$GERRIT_REFSPEC'
            choosing-strategy: 'gerrit'

    wrappers:
        - fdio-infra-wrappers-non-activity-timeout:
            build-timeout: '{build-timeout}'

    triggers:
        - gerrit-trigger-patch-submitted:
            name: '{project}'
            branch: '{branch}'

    builders:
        - maven-target:
            maven-version: 'mvn33-new'
            goals: '--version'
            settings: 'csit-settings'
            settings-type: cfp
            global-settings: 'global-settings'
            global-settings-type: cfp
        - provide-maven-settings:
            settings-file: 'csit-settings'
            global-settings-file: 'global-settings'
        - shell:
            !include-raw-escape: include-raw-csit-docs.sh

    publishers:
        - archive:
            artifacts: 'resources/tools/doc_gen/csit.docs.tar.gz'
            allow-empty: 'true'
            fingerprint: false
            only-if-success: true
            default-excludes: false

        - fdio-infra-shiplogs:
            maven-version: 'mvn33-new'

- job-template:
    name: 'csit-docs-merge-{stream_timed}'

    project-type: freestyle
    node: 'ubuntu1604-basebuild-4c-4g'
    concurrent: true

    logrotate:
        daysToKeep: '{build-days-to-keep}'
        numToKeep: '{build-num-to-keep}'
        artifactDaysToKeep: '{build-artifact-days-to-keep}'
        artifactNumToKeep: '{build-artifact-num-to-keep}'

    parameters:
        - project-parameter:
            project: '{project}'
        - gerrit-parameter:
            branch: '{branch}'
        - maven-exec:
            maven-version: 'mvn33-new'

    scm:
        - gerrit-trigger-scm:
            credentials-id: 'jenkins-gerrit-credentials'
            refspec: ''
            choosing-strategy: 'default'

    wrappers:
        - fdio-infra-wrappers-non-activity-timeout:
            build-timeout: '{build-timeout}'

    triggers:
        - reverse:
            jobs: 'csit-vpp-verify-{stream_timed}-ubuntu1604-weekly'
            result: 'success'
        - gerrit:
            server-name: 'Primary'
            trigger-on:
                - comment-added-contains-event:
                    comment-contains-value: 'run-docs'
            projects:
              - project-compare-type: 'ANT'
                project-pattern: '{project}'
                branches:
                  - branch-compare-type: 'ANT'
                    branch-pattern: '**/{branch}'
            skip-vote:
                successful: true
                failed: true
                unstable: true
                notbuilt: true

    builders:
        - maven-target:
            maven-version: 'mvn33-new'
            goals: '--version'
            settings: 'csit-settings'
            settings-type: cfp
            global-settings: 'global-settings'
            global-settings-type: cfp
        - provide-maven-settings:
            settings-file: 'csit-settings'
            global-settings-file: 'global-settings'
        - shell:
            !include-raw-escape: include-raw-csit-docs.sh

    publishers:
        - archive:
            artifacts: 'resources/tools/doc_gen/csit.docs.tar.gz'
            allow-empty: 'true'
            fingerprint: false
            only-if-success: true
            default-excludes: false

        - fdio-infra-shiplogs:
            maven-version: 'mvn33-new'

- job-template:
    name: 'csit-report-merge-{stream}'

    project-type: freestyle
    node: 'ubuntu1604-basebuild-8c-32g'
    concurrent: false

    logrotate:
        daysToKeep: '{build-days-to-keep}'
        numToKeep: '{build-num-to-keep}'
        artifactDaysToKeep: '{build-artifact-days-to-keep}'
        artifactNumToKeep: '{build-artifact-num-to-keep}'

    parameters:
        - project-parameter:
            project: '{project}'
        - gerrit-parameter:
            branch: '{branch}'
        - maven-exec:
            maven-version: 'mvn33-new'

    scm:
        - gerrit-trigger-scm:
            credentials-id: 'jenkins-gerrit-credentials'
            refspec: '$GERRIT_REFSPEC'
            choosing-strategy: 'default'

    wrappers:
        - fdio-infra-wrappers-non-activity-timeout:
            build-timeout: '{build-timeout}'

    triggers:
        - gerrit:
            server-name: 'Primary'
            trigger-on:
                - comment-added-contains-event:
                    comment-contains-value: 'run-report'
            projects:
              - project-compare-type: 'ANT'
                project-pattern: '{project}'
                branches:
                  - branch-compare-type: 'ANT'
                    branch-pattern: '**/{branch}'
            skip-vote:
                successful: true
                failed: true
                unstable: true
                notbuilt: true

    builders:
        - maven-target:
            maven-version: 'mvn33-new'
            goals: '--version'
            settings: 'csit-settings'
            settings-type: cfp
            global-settings: 'global-settings'
            global-settings-type: cfp
        - provide-maven-settings:
            settings-file: 'csit-settings'
            global-settings-file: 'global-settings'
        - shell:
            !include-raw-escape: include-raw-csit-report.sh

    publishers:
        - archive:
            artifacts: 'resources/tools/report_gen/csit.report.tar.gz'
            allow-empty: 'true'
            fingerprint: false
            only-if-success: true
            default-excludes: false

        - fdio-infra-shiplogs:
            maven-version: 'mvn33-new'

- job-template:
    name: 'csit-vpp-perf-trend-daily-master'

    description: |
      Purpose of this job is to validate latest vpp build from corresponding
      branch stored in nexus against verified CSIT codebase of corresponding
      branch.

      objective
          daily perf trending of vpp master build
      job
         name
             csit-vpp-perf-trend-daily
         trigger
             scheduled daily
      perf test-cases selection
          all CSIT perf suites
      default tags for vpp startup config and perf test type
          1T1C - one worker thread, one core
          2T2C - two worker threads, two cores
          X520 - Intel x520-DA2 NIC
          NDRDISC - discovery of NDR throughput
      results
          jjb verify - no
          present
              jenkins trending graphs

    project-type: freestyle
    node: 'ubuntu1604-basebuild-4c-4g'
    concurrent: false

    logrotate:
        daysToKeep: '{build-days-to-keep}'
        numToKeep: '{build-num-to-keep}'
        artifactDaysToKeep: '{build-artifact-days-to-keep}'
        artifactNumToKeep: '{build-artifact-num-to-keep}'

    parameters:
        - project-parameter:
            project: '{project}'
        - gerrit-parameter:
            branch: '{branch}'

    wrappers:
        - fdio-infra-wrappers-non-activity-timeout:
            build-timeout: '{build-timeout}'

    builders:
        - shell: 'echo "BRANCH_ID={branch-id}" > $WORKSPACE/variables.prop'
        - inject:
            properties-file: variables.prop
        - shell:
            !include-raw-escape: jjb/csit/include-raw-csit-vpp-perf-trend-daily.sh

    publishers:
        - archive-artifacts:
            artifacts: 'csit/archive/*.*'
            latest-only: false

        - robot:
            output-path: 'csit/archive'
            other-files:
              - '*.*'

        - fdio-infra-shiplogs:
            maven-version: 'mvn33-new'

        - plot:
            - title: '64B-1t1c-eth-l2*-ndrdisc'
              group: 'RFC2544: Xconnect and Bridge Domain'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-daily-master-l2-1.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "BASE") and contains(@tags, "NDRDISC") and contains(@tags, "1T1C") and (contains(@tags, "L2BDMACSTAT") or contains(@tags, "L2BDMACLRN") or contains(@tags, "L2XCFWD"))]'
            - title: '64B-2t2c-eth-l2*-ndrdisc'
              group: 'RFC2544: Xconnect and Bridge Domain'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-daily-master-l2-2.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "BASE") and contains(@tags, "NDRDISC") and contains(@tags, "2T2C") and (contains(@tags, "L2BDMACSTAT") or contains(@tags, "L2BDMACLRN") or contains(@tags, "L2XCFWD"))]'

            - title: '64B-1t1c-ethip4-ip4*-ndrdisc'
              group: 'RFC2544: IPv4 base, scale, feature'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-daily-master-ipv4-1.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and (contains(@tags, "BASE") or contains(@tags, "SCALE") or contains(@tags, "FEATURE")) and contains(@tags, "NDRDISC") and contains(@tags, "1T1C") and contains(@tags, "IP4FWD")]'
            - title: '64B-2t2c-ethip4-ip4*-ndrdisc'
              group: 'RFC2544: IPv4 base, scale, feature'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-daily-master-ipv4-2.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and (contains(@tags, "BASE") or contains(@tags, "SCALE") or contains(@tags, "FEATURE")) and contains(@tags, "NDRDISC") and contains(@tags, "2T2C") and contains(@tags, "IP4FWD")]'

            - title: '78B-1t1c-ethip6-ip6*-ndrdisc'
              group: 'RFC2544: IPv6 base, scale, feature'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-daily-master-ipv6-1.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and (contains(@tags, "BASE") or contains(@tags, "SCALE") or contains(@tags, "FEATURE")) and contains(@tags, "NDRDISC") and contains(@tags, "1T1C") and contains(@tags, "IP6FWD")]'
            - title: '78B-2t2c-ethip6-ip6*-ndrdisc'
              group: 'RFC2544: IPv6 base, scale, feature'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-daily-master-ipv6-2.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and (contains(@tags, "BASE") or contains(@tags, "SCALE") or contains(@tags, "FEATURE")) and contains(@tags, "NDRDISC") and contains(@tags, "2T2C") and contains(@tags, "IP6FWD")]'

            - title: '64B-1t1c-ethip4*-ndrdisc'
              group: 'RFC2544: Overlay tunnels - LISP, VXLAN, GPE, GRE'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-daily-master-encap-1.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "NDRDISC") and contains(@tags, "1T1C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE"))]'
            - title: '64B-2t2c-ethip4*-ndrdisc'
              group: 'RFC2544: Overlay tunnels - LISP, VXLAN, GPE, GRE'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-daily-master-encap-2.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "NDRDISC") and contains(@tags, "2T2C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE"))]'
            - title: '78B-1t1c-ethip6*-ndrdisc'
              group: 'RFC2544: Overlay tunnels - LISP, VXLAN, GPE, GRE'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-daily-master-encap-3.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "NDRDISC") and contains(@tags, "1T1C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE"))]'
            - title: '78B-2t2c-ethip6*-ndrdisc'
              group: 'RFC2544: Overlay tunnels - LISP, VXLAN, GPE, GRE'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-daily-master-encap-4.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "NDRDISC") and contains(@tags, "2T2C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE"))]'

            - title: '64B-1t1c-ethip4*-ndrdisc'
              group: 'RFC2544: Crypto in software: IP4FWD, IP6FWD'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-daily-master-crypto-sw-1.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "IP4FWD") and contains(@tags, "NDRDISC") and contains(@tags, "1T1C") and contains(@tags, "IPSECSW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '64B-2t2c-ethip4*-ndrdisc'
              group: 'RFC2544: Crypto in software: IP4FWD, IP6FWD'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-daily-master-crypto-sw-2.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "IP4FWD") and contains(@tags, "NDRDISC") and contains(@tags, "2T2C") and contains(@tags, "IPSECSW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '78B-1t1c-ethip6*-ndrdisc'
              group: 'RFC2544: Crypto in software: IP4FWD, IP6FWD'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-daily-master-crypto-sw-3.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "IP6FWD") and contains(@tags, "NDRDISC") and contains(@tags, "1T1C") and contains(@tags, "IPSECSW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '78B-2t2c-ethip6*-ndrdisc'
              group: 'RFC2544: Crypto in software: IP4FWD, IP6FWD'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-daily-master-crypto-sw-4.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "IP6FWD") and contains(@tags, "NDRDISC") and contains(@tags, "2T2C") and contains(@tags, "IPSECSW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'

            - title: '64B-1t1c-ethip4*-ndrdisc'
              group: 'RFC2544: Crypto in hardware: IP4FWD, IP6FWD'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-daily-master-crypto-hw-1.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "IP4FWD") and contains(@tags, "NDRDISC") and contains(@tags, "1T1C") and contains(@tags, "IPSECHW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '64B-2t2c-ethip4*-ndrdisc'
              group: 'RFC2544: Crypto in hardware: IP4FWD, IP6FWD'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-daily-master-crypto-hw-2.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "IP4FWD") and contains(@tags, "NDRDISC") and contains(@tags, "2T2C") and contains(@tags, "IPSECHW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '78B-1t1c-ethip6*-ndrdisc'
              group: 'RFC2544: Crypto in hardware: IP4FWD, IP6FWD'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-daily-master-crypto-hw-3.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "IP6FWD") and contains(@tags, "NDRDISC") and contains(@tags, "1T1C") and contains(@tags, "IPSECHW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '78B-2t2c-ethip6*-ndrdisc'
              group: 'RFC2544: Crypto in hardware: IP4FWD, IP6FWD'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-daily-master-crypto-hw-4.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "IP6FWD") and contains(@tags, "NDRDISC") and contains(@tags, "2T2C") and contains(@tags, "IPSECHW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'

            - title: '64B-1t1c-ethip4*-ndrdisc'
              group: 'RFC2544: Overlay tunnels with crypto in software'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-daily-master-encap-crypto-sw-1.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "NDRDISC") and contains(@tags, "1T1C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE")) and contains(@tags, "IPSECSW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '64B-2t2c-ethip4*-ndrdisc'
              group: 'RFC2544: Overlay tunnels with crypto in software'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-daily-master-encap-crypto-sw-2.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "NDRDISC") and contains(@tags, "2T2C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE")) and contains(@tags, "IPSECSW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '78B-1t1c-ethip6*-ndrdisc'
              group: 'RFC2544: Overlay tunnels with crypto in software'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-daily-master-encap-crypto-sw-3.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "NDRDISC") and contains(@tags, "1T1C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE")) and contains(@tags, "IPSECSW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '78B-2t2c-ethip6*-ndrdisc'
              group: 'RFC2544: Overlay tunnels with crypto in software'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-daily-master-encap-crypto-sw-4.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "NDRDISC") and contains(@tags, "2T2C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE")) and contains(@tags, "IPSECSW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'

            - title: '64B-1t1c-ethip4*-ndrdisc'
              group: 'RFC2544: Overlay tunnels with crypto in hardware'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-daily-master-encap-crypto-hw-1.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "NDRDISC") and contains(@tags, "1T1C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE")) and contains(@tags, "IPSECHW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '64B-2t2c-ethip4*-ndrdisc'
              group: 'RFC2544: Overlay tunnels with crypto in hardware'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-daily-master-encap-crypto-hw-2.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "NDRDISC") and contains(@tags, "2T2C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE")) and contains(@tags, "IPSECHW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '78B-1t1c-ethip6*-ndrdisc'
              group: 'RFC2544: Overlay tunnels with crypto in hardware'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-daily-master-encap-crypto-hw-3.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "NDRDISC") and contains(@tags, "1T1C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE")) and contains(@tags, "IPSECHW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '78B-2t2c-ethip6*-ndrdisc'
              group: 'RFC2544: Overlay tunnels with crypto in hardware'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-daily-master-encap-crypto-hw-4.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "NDRDISC") and contains(@tags, "2T2C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE")) and contains(@tags, "IPSECHW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'

            - title: '64B-1t1c-*-vhost-*-ndrdisc'
              group: 'RFC2544: vhost-user'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-daily-master-vhost-1.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and contains(@tags, "NDRDISC") and contains(@tags, "1T1C") and contains(@tags, "VHOST") and (contains(@tags, "ETH") or contains(@tags, "DOT1Q") or contains(@tags, "VXLAN"))]'
            - title: '64B-2t2c-*-vhost-*-ndrdisc'
              group: 'RFC2544: vhost-user'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-daily-master-vhost-2.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and contains(@tags, "NDRDISC") and contains(@tags, "2T2C") and contains(@tags, "VHOST") and (contains(@tags, "ETH") or contains(@tags, "DOT1Q") or contains(@tags, "VXLAN"))]'

- job-template:
    name: 'csit-vpp-perf-trend-semi-weekly-master'

    description: |
      Purpose of this job is to validate latest vpp build from corresponding
      branch stored in nexus against verified CSIT codebase of corresponding
      branch.

      consumer
          csit-dev trending semi-weekly
      objective
          semi-weekly perf trending of vpp master build job
          name
              csit-vpp-perf-trend-semi-weekly
          trigger
              scheduled semi-weekly
      perf test-cases selection
          all CSIT perf suites
      default tags for vpp startup config and perf test type
          1T1C - one worker thread, one core
          2T2C - two worker threads, two cores
          X710 - Intel x710 Fortville NIC
          XL710 - Intel xl710 Fortville NIC
          NDRDISC - discovery of NDR throughput
      results
          jjb verify - no
          present
              jenkins trending graphs

    project-type: freestyle
    node: 'ubuntu1604-basebuild-4c-4g'
    concurrent: false

    logrotate:
        daysToKeep: '{build-days-to-keep}'
        numToKeep: '{build-num-to-keep}'
        artifactDaysToKeep: '{build-artifact-days-to-keep}'
        artifactNumToKeep: '{build-artifact-num-to-keep}'

    parameters:
        - project-parameter:
            project: '{project}'
        - gerrit-parameter:
            branch: '{branch}'

    wrappers:
        - fdio-infra-wrappers-non-activity-timeout:
            build-timeout: '{build-timeout}'

    builders:
        - shell: 'echo "BRANCH_ID={branch-id}" > $WORKSPACE/variables.prop'
        - inject:
            properties-file: variables.prop
        - shell:
            !include-raw-escape: jjb/csit/include-raw-csit-vpp-perf-trend-semi-weekly.sh

    publishers:
        - archive-artifacts:
            artifacts: 'csit/archive/*.*'
            latest-only: false

        - robot:
            output-path: 'csit/archive'
            other-files:
              - '*.*'

        - fdio-infra-shiplogs:
            maven-version: 'mvn33-new'

        - plot:
            - title: '64B-1t1c-eth-l2*-ndrdisc'
              group: 'RFC2544: Xconnect and Bridge Domain'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-semi-weekly-master-l2-1.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "BASE") and contains(@tags, "NDRDISC") and contains(@tags, "1T1C") and (contains(@tags, "L2BDMACSTAT") or contains(@tags, "L2BDMACLRN") or contains(@tags, "L2XCFWD"))]'
            - title: '64B-2t2c-eth-l2*-ndrdisc'
              group: 'RFC2544: Xconnect and Bridge Domain'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-semi-weekly-master-l2-2.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "BASE") and contains(@tags, "NDRDISC") and contains(@tags, "2T2C") and (contains(@tags, "L2BDMACSTAT") or contains(@tags, "L2BDMACLRN") or contains(@tags, "L2XCFWD"))]'

            - title: '64B-1t1c-ethip4-ip4*-ndrdisc'
              group: 'RFC2544: IPv4 base, scale, feature'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-semi-weekly-master-ipv4-1.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and (contains(@tags, "BASE") or contains(@tags, "SCALE") or contains(@tags, "FEATURE")) and contains(@tags, "NDRDISC") and contains(@tags, "1T1C") and contains(@tags, "IP4FWD")]'
            - title: '64B-2t2c-ethip4-ip4*-ndrdisc'
              group: 'RFC2544: IPv4 base, scale, feature'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-semi-weekly-master-ipv4-2.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and (contains(@tags, "BASE") or contains(@tags, "SCALE") or contains(@tags, "FEATURE")) and contains(@tags, "NDRDISC") and contains(@tags, "2T2C") and contains(@tags, "IP4FWD")]'

            - title: '78B-1t1c-ethip6-ip6*-ndrdisc'
              group: 'RFC2544: IPv6 base, scale, feature'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-semi-weekly-master-ipv6-1.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and (contains(@tags, "BASE") or contains(@tags, "SCALE") or contains(@tags, "FEATURE")) and contains(@tags, "NDRDISC") and contains(@tags, "1T1C") and contains(@tags, "IP6FWD")]'
            - title: '78B-2t2c-ethip6-ip6*-ndrdisc'
              group: 'RFC2544: IPv6 base, scale, feature'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-semi-weekly-master-ipv6-2.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and (contains(@tags, "BASE") or contains(@tags, "SCALE") or contains(@tags, "FEATURE")) and contains(@tags, "NDRDISC") and contains(@tags, "2T2C") and contains(@tags, "IP6FWD")]'

            - title: '64B-1t1c-ethip4*-ndrdisc'
              group: 'RFC2544: Overlay tunnels - LISP, VXLAN, GPE, GRE'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-semi-weekly-master-encap-1.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "NDRDISC") and contains(@tags, "1T1C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE"))]'
            - title: '64B-2t2c-ethip4*-ndrdisc'
              group: 'RFC2544: Overlay tunnels - LISP, VXLAN, GPE, GRE'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-semi-weekly-master-encap-2.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "NDRDISC") and contains(@tags, "2T2C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE"))]'
            - title: '78B-1t1c-ethip6*-ndrdisc'
              group: 'RFC2544: Overlay tunnels - LISP, VXLAN, GPE, GRE'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-semi-weekly-master-encap-3.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "NDRDISC") and contains(@tags, "1T1C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE"))]'
            - title: '78B-2t2c-ethip6*-ndrdisc'
              group: 'RFC2544: Overlay tunnels - LISP, VXLAN, GPE, GRE'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-semi-weekly-master-encap-4.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "NDRDISC") and contains(@tags, "2T2C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE"))]'

            - title: '64B-1t1c-ethip4*-ndrdisc'
              group: 'RFC2544: Crypto in software: IP4FWD, IP6FWD'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-semi-weekly-master-crypto-sw-1.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "IP4FWD") and contains(@tags, "NDRDISC") and contains(@tags, "1T1C") and contains(@tags, "IPSECSW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '64B-2t2c-ethip4*-ndrdisc'
              group: 'RFC2544: Crypto in software: IP4FWD, IP6FWD'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-semi-weekly-master-crypto-sw-2.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "IP4FWD") and contains(@tags, "NDRDISC") and contains(@tags, "2T2C") and contains(@tags, "IPSECSW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '78B-1t1c-ethip6*-ndrdisc'
              group: 'RFC2544: Crypto in software: IP4FWD, IP6FWD'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-semi-weekly-master-crypto-sw-3.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "IP6FWD") and contains(@tags, "NDRDISC") and contains(@tags, "1T1C") and contains(@tags, "IPSECSW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '78B-2t2c-ethip6*-ndrdisc'
              group: 'RFC2544: Crypto in software: IP4FWD, IP6FWD'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-semi-weekly-master-crypto-sw-4.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "IP6FWD") and contains(@tags, "NDRDISC") and contains(@tags, "2T2C") and contains(@tags, "IPSECSW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'

            - title: '64B-1t1c-ethip4*-ndrdisc'
              group: 'RFC2544: Crypto in hardware: IP4FWD, IP6FWD'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-semi-weekly-master-crypto-hw-1.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "IP4FWD") and contains(@tags, "NDRDISC") and contains(@tags, "1T1C") and contains(@tags, "IPSECHW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '64B-2t2c-ethip4*-ndrdisc'
              group: 'RFC2544: Crypto in hardware: IP4FWD, IP6FWD'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-semi-weekly-master-crypto-hw-2.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "IP4FWD") and contains(@tags, "NDRDISC") and contains(@tags, "2T2C") and contains(@tags, "IPSECHW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '78B-1t1c-ethip6*-ndrdisc'
              group: 'RFC2544: Crypto in hardware: IP4FWD, IP6FWD'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-semi-weekly-master-crypto-hw-3.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "IP6FWD") and contains(@tags, "NDRDISC") and contains(@tags, "1T1C") and contains(@tags, "IPSECHW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '78B-2t2c-ethip6*-ndrdisc'
              group: 'RFC2544: Crypto in hardware: IP4FWD, IP6FWD'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-semi-weekly-master-crypto-hw-4.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "IP6FWD") and contains(@tags, "NDRDISC") and contains(@tags, "2T2C") and contains(@tags, "IPSECHW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'

            - title: '64B-1t1c-ethip4*-ndrdisc'
              group: 'RFC2544: Overlay tunnels with crypto in software'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-semi-weekly-master-encap-crypto-sw-1.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "NDRDISC") and contains(@tags, "1T1C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE")) and contains(@tags, "IPSECSW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '64B-2t2c-ethip4*-ndrdisc'
              group: 'RFC2544: Overlay tunnels with crypto in software'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-semi-weekly-master-encap-crypto-sw-2.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "NDRDISC") and contains(@tags, "2T2C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE")) and contains(@tags, "IPSECSW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '78B-1t1c-ethip6*-ndrdisc'
              group: 'RFC2544: Overlay tunnels with crypto in software'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-semi-weekly-master-encap-crypto-sw-3.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "NDRDISC") and contains(@tags, "1T1C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE")) and contains(@tags, "IPSECSW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '78B-2t2c-ethip6*-ndrdisc'
              group: 'RFC2544: Overlay tunnels with crypto in software'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-semi-weekly-master-encap-crypto-sw-4.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "NDRDISC") and contains(@tags, "2T2C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE")) and contains(@tags, "IPSECSW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'

            - title: '64B-1t1c-ethip4*-ndrdisc'
              group: 'RFC2544: Overlay tunnels with crypto in hardware'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-semi-weekly-master-encap-crypto-hw-1.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "NDRDISC") and contains(@tags, "1T1C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE")) and contains(@tags, "IPSECHW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '64B-2t2c-ethip4*-ndrdisc'
              group: 'RFC2544: Overlay tunnels with crypto in hardware'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-semi-weekly-master-encap-crypto-hw-2.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "NDRDISC") and contains(@tags, "2T2C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE")) and contains(@tags, "IPSECHW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '78B-1t1c-ethip6*-ndrdisc'
              group: 'RFC2544: Overlay tunnels with crypto in hardware'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-semi-weekly-master-encap-crypto-hw-3.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "NDRDISC") and contains(@tags, "1T1C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE")) and contains(@tags, "IPSECHW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'
            - title: '78B-2t2c-ethip6*-ndrdisc'
              group: 'RFC2544: Overlay tunnels with crypto in hardware'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-semi-weekly-master-encap-crypto-hw-4.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="78B" and not(contains(@tags, "VHOST")) and contains(@tags, "ENCAP") and contains(@tags, "NDRDISC") and contains(@tags, "2T2C") and (contains(@tags, "VXLAN") or contains(@tags, "VXLANGPE") or contains(@tags, "LISP") or contains(@tags, "LISPGPE") or contains(@tags, "GRE")) and contains(@tags, "IPSECHW") and (contains(@tags, "IPSECTRAN") or contains(@tags, "IPSECTUN"))]'

            - title: '64B-1t1c-*-vhost-*-ndrdisc'
              group: 'RFC2544: vhost-user'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-semi-weekly-master-vhost-1.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and contains(@tags, "NDRDISC") and contains(@tags, "1T1C") and contains(@tags, "VHOST") and (contains(@tags, "ETH") or contains(@tags, "DOT1Q") or contains(@tags, "VXLAN"))]'
            - title: '64B-2t2c-*-vhost-*-ndrdisc'
              group: 'RFC2544: vhost-user'
              yaxis: 'Packets Per Second'
              num-builds: '20'
              keep-records: True
              csv-file-name: 'csit-vpp-perf-trend-semi-weekly-master-vhost-2.csv'
              series:
                  - file: 'csit/output_perf_data.xml'
                    format: xml
                    xpath-type: 'nodeset'
                    xpath: '//*[@framesize="64B" and contains(@tags, "NDRDISC") and contains(@tags, "2T2C") and contains(@tags, "VHOST") and (contains(@tags, "ETH") or contains(@tags, "DOT1Q") or contains(@tags, "VXLAN"))]'

- job-template:
    name: 'csit-vpp-perf-check-{stream}'

    description: |
      consumer
          csit-dev perf code base checks
      objective
          check csit perf code base
      job
          name
              csit-vpp-perf-check
          trigger
              see below
      perf test-cases selection
          all CSIT perf suites
      keywords
          format - keyword, tag_list
              verify-perf-ndrdisc, NDRDISC
              verify-perf-pdrdisc, PDRDISC
              verify-perf-mrr, MRR
      default tags for vpp startup config and perf test type
          1T1C
              one worker thread, one core
          2T2C
              two worker threads, two cores
      results
          jjb verify
              PASS/FAIL
          present
              no
          analyse
              csit project
                  catch malfunctions
                  catch degradations

    project-type: freestyle
    node: 'ubuntu1604-basebuild-4c-4g'
    concurrent: false

    logrotate:
        daysToKeep: '{build-days-to-keep}'
        numToKeep: '{build-num-to-keep}'
        artifactDaysToKeep: '{build-artifact-days-to-keep}'
        artifactNumToKeep: '{build-artifact-num-to-keep}'

    parameters:
        - project-parameter:
            project: '{project}'
        - gerrit-parameter:
            branch: '{branch}'

    scm:
        - gerrit-trigger-scm:
            credentials-id: 'jenkins-gerrit-credentials'
            refspec: '$GERRIT_REFSPEC'
            choosing-strategy: 'gerrit'

    wrappers:
        - fdio-infra-wrappers-non-activity-timeout:
            build-timeout: '{build-timeout}'

    triggers:
        - gerrit:
            server-name: 'Primary'
            trigger-on:
                - comment-added-contains-event:
                    comment-contains-value: 'verify-perf-ndrdisc'
                - comment-added-contains-event:
                    comment-contains-value: 'verify-perf-pdrdisc'
                - comment-added-contains-event:
                    comment-contains-value: 'verify-perf-mrr'
            projects:
              - project-compare-type: 'ANT'
                project-pattern: '{project}'
                branches:
                  - branch-compare-type: 'ANT'
                    branch-pattern: '**/{branch}'
            skip-vote:
                successful: false
                failed: false
                unstable: false
                notbuilt: false

    builders:
        - shell:
            !include-raw-escape: jjb/csit/include-raw-csit-vpp-perf-check.sh

    publishers:
        - archive-artifacts:
            artifacts: 'archive/*.*'
            latest-only: false

        - robot:
            output-path: archive
            other-files:
              - '*.*'

        - fdio-infra-shiplogs:
            maven-version: 'mvn33-new'

- job-template:
    name: 'csit-vpp-perf-mrr-daily-master'

    description: |
      objective
          check vpp perf mrr daily
      job
          name
              csit-vpp-perf-mrr-daily
          trigger
              daily
      perf test-cases selection
          all CSIT perf suites
      default tags for vpp startup config and perf test type
          1T1C - one worker thread, one core
          2T2C - two worker threads, two cores
      results
          jjb verify
              PASS/FAIL
          present
              no
          analyse
              csit project
                  catch malfunctions
                  catch degradations

    project-type: freestyle
    node: 'ubuntu1604-basebuild-4c-4g'
    concurrent: false

    logrotate:
        daysToKeep: '{build-days-to-keep}'
        numToKeep: '{build-num-to-keep}'
        artifactDaysToKeep: '{build-artifact-days-to-keep}'
        artifactNumToKeep: '{build-artifact-num-to-keep}'

    parameters:
        - project-parameter:
            project: '{project}'
        - gerrit-parameter:
            branch: '{branch}'

    wrappers:
        - fdio-infra-wrappers-non-activity-timeout:
            build-timeout: '{build-timeout}'

    triggers:
        - timed: 'H H(0-2) * * *'

    builders:
        - shell: 'echo "BRANCH_ID={branch-id}" > $WORKSPACE/variables.prop'
        - inject:
            properties-file: variables.prop
        - shell:
            !include-raw-escape: jjb/csit/include-raw-csit-vpp-perf-mrr-daily.sh

    publishers:
        - archive-artifacts:
            artifacts: 'csit/archive/*.*'
            latest-only: false

        - robot:
            output-path: 'csit/archive'
            other-files:
              - '*.*'

        - fdio-infra-shiplogs:
            maven-version: 'mvn33-new'

- job-template:
    name: 'csit-vpp-perf-verify-{stream}'

    description: |
      objective
          perf verify - per csit gerrit patch
      job
          name
              csit-vpp-perf-verify
          trigger
              keyword in comment to csit patch
      perf test-cases selection
          test-cases selected using trigger keywords paired with tags
          all test-cases are labelled with CSIT RF topic tags defined in
          csit/docs/tag_documentation.rst
      proposed keywords
          focus on testing specified vpp packet processing path
          format - keyword - tag_list
          perf_verify_ip4 - IP4Base, IP4Scale2M
          perf_verify_ip6 - IP6Base, IP6Scale2M
          perf_verify_l2 - L2XC, L2BD
          perf_verify_lisp - 4Lisp, 6Lisp
          perf_verify_vxlan - Vxlan
          perf_verify_vhost - Vhost
          perf_verify_memif - Memif
      default tags for vpp startup config and perf test type
          1T1C
              one worker thread, one core
          X520
              x520 Niantic NIC
          NDRDISC
              discovery of NDR throughput
      results
          jjb verify
              PASS/FAIL
          present
              no
          analyse
              no
    project-type: freestyle
    node: 'ubuntu1604-basebuild-4c-4g'
    concurrent: false

    logrotate:
        daysToKeep: '{build-days-to-keep}'
        numToKeep: '{build-num-to-keep}'
        artifactDaysToKeep: '{build-artifact-days-to-keep}'
        artifactNumToKeep: '{build-artifact-num-to-keep}'

    parameters:
        - project-parameter:
            project: '{project}'
        - gerrit-parameter:
            branch: '{branch}'

    scm:
        - gerrit-trigger-scm:
            credentials-id: 'jenkins-gerrit-credentials'
            refspec: '$GERRIT_REFSPEC'
            choosing-strategy: 'gerrit'

    wrappers:
        - fdio-infra-wrappers-non-activity-timeout:
            build-timeout: '{build-timeout}'

    triggers:
        - gerrit:
            server-name: 'Primary'
            trigger-on:
                - comment-added-contains-event:
                    comment-contains-value: 'verify-perf-l2'
                - comment-added-contains-event:
                    comment-contains-value: 'verify-perf-ip4'
                - comment-added-contains-event:
                    comment-contains-value: 'verify-perf-ip6'
                - comment-added-contains-event:
                    comment-contains-value: 'verify-perf-lisp'
                - comment-added-contains-event:
                    comment-contains-value: 'verify-perf-vxlan'
                - comment-added-contains-event:
                    comment-contains-value: 'verify-perf-vhost'
                - comment-added-contains-event:
                    comment-contains-value: 'verify-perf-memif'
                - comment-added-contains-event:
                    comment-contains-value: 'verify-perf-ipsechw'
            projects:
              - project-compare-type: 'ANT'
                project-pattern: '{project}'
                branches:
                  - branch-compare-type: 'ANT'
                    branch-pattern: '**/{branch}'
            skip-vote:
                successful: false
                failed: false
                unstable: false
                notbuilt: false

    builders:
        - shell:
            !include-raw-escape: jjb/csit/include-raw-csit-vpp-perf-verify.sh

    publishers:
        - archive-artifacts:
            artifacts: 'archive/*.*'
            latest-only: false

        - robot:
            output-path: archive
            other-files:
              - '*.*'

        - fdio-infra-shiplogs:
            maven-version: 'mvn33-new'

- job-template:
    name: 'csit-nsh_sfc-verify-perf-{stream}'

    project-type: freestyle
    node: 'ubuntu1604-basebuild-4c-4g'
    concurrent: true

    logrotate:
        daysToKeep: '{build-days-to-keep}'
        numToKeep: '{build-num-to-keep}'
        artifactDaysToKeep: '{build-artifact-days-to-keep}'
        artifactNumToKeep: '{build-artifact-num-to-keep}'

    parameters:
        - project-parameter:
            project: '{project}'
        - gerrit-parameter:
            branch: '{branch}'
        - os-parameter:
            os: 'ubuntu1604'
        - stream-parameter:
            stream: '{stream}'

    scm:
        - gerrit-trigger-scm:
            credentials-id: 'jenkins-gerrit-credentials'
            refspec: '$GERRIT_REFSPEC'
            choosing-strategy: 'gerrit'

    wrappers:
        - fdio-infra-wrappers-non-activity-timeout:
            build-timeout: '{build-timeout}'

    triggers:
        - gerrit-trigger-manually-triggered:
            name: '{project}'
            branch: '{branch}'
            comment-trigger-value: 'csit_nsh_sfc_perf_{stream}'

    builders:
        - shell:
            !include-raw-escape: jjb/csit/include-raw-csit-nsh_sfc-perf-hw.sh

    publishers:
        - archive-artifacts:
            artifacts: 'archive/*.*'
            latest-only: false

        - robot-report:
            output-path: 'archive'

        - fdio-infra-shiplogs:
            maven-version: 'mvn33-new'

- job-template:
    name: 'csit-nsh_sfc-verify-func-{stream}-{os}-virl'

    project-type: freestyle
    node: '{os}-basebuild-4c-4g'
    concurrent: true

    logrotate:
        daysToKeep: '{build-days-to-keep}'
        numToKeep: '{build-num-to-keep}'
        artifactDaysToKeep: '{build-artifact-days-to-keep}'
        artifactNumToKeep: '{build-artifact-num-to-keep}'

    parameters:
        - project-parameter:
            project: '{project}'
        - gerrit-parameter:
            branch: '{branch}'
        - os-parameter:
            os: '{os}'
        - stream-parameter:
            stream: '{stream}'

    scm:
        - gerrit-trigger-scm:
            credentials-id: 'jenkins-gerrit-credentials'
            refspec: '$GERRIT_REFSPEC'
            choosing-strategy: 'gerrit'

    wrappers:
        - fdio-infra-wrappers:
            build-timeout: '{build-timeout}'

    triggers:
        - gerrit-trigger-manually-triggered:
            name: '{project}'
            branch: '{branch}'
            comment-trigger-value: 'csit_nsh_sfc_func_{stream}'

    builders:
        - shell:
            !include-raw-escape: include-raw-csit-nsh_sfc-functional-virl.sh

    publishers:
        - archive-artifacts:
            artifacts: 'archive/*.*'
            latest-only: false

        - robot-report:
            output-path: 'archive'

        - fdio-infra-shiplogs:
            maven-version: 'mvn33-new'

- job-template:
    name: 'csit-tldk-verify-func-{stream}-{os}-virl'

    project-type: freestyle
    node: '{os}-basebuild-4c-4g'
    concurrent: true

    logrotate:
        daysToKeep: '{build-days-to-keep}'
        numToKeep: '{build-num-to-keep}'
        artifactDaysToKeep: '{build-artifact-days-to-keep}'
        artifactNumToKeep: '{build-artifact-num-to-keep}'

    parameters:
        - project-parameter:
            project: '{project}'
        - gerrit-parameter:
            branch: '{branch}'
        - os-parameter:
            os: '{os}'

    scm:
        - gerrit-trigger-scm:
            credentials-id: 'jenkins-gerrit-credentials'
            refspec: '$GERRIT_REFSPEC'
            choosing-strategy: 'gerrit'

    wrappers:
        - fdio-infra-wrappers:
            build-timeout: '{build-timeout}'

    triggers:
        - gerrit-trigger-manually-triggered:
            name: '{project}'
            branch: '{branch}'
            comment-trigger-value: 'csit_verify_tldk_func'

    builders:
        - shell:
            !include-raw-escape: include-raw-csit-tldk-functional-virl.sh

    publishers:
        - archive-artifacts:
            artifacts: 'archive/*.*'
            latest-only: false

        - robot-report:
            output-path: 'archive'

        - fdio-infra-shiplogs:
            maven-version: 'mvn33-new'

- parameter:
    name: test-type-parameter
    parameters:
        - string:
            name: TYPE
            default: '{type}'
            description: "Test TYPE parameter if not given by trigger"
