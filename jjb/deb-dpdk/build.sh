#!/bin/bash

echo "*******************************************************************"
echo "* DEB-DPDK BUILD STARTED"
echo "*******************************************************************"

set -xe -o pipefail

echo "*******************************************************************"
echo "* INSTALL BUILD DEPENDENCIES"
echo "*******************************************************************"

sudo /usr/lib/pbuilder/pbuilder-satisfydepends

echo "*******************************************************************"
echo "* PERFORM UNSIGNED BUILD"
echo "*******************************************************************"

export DEB_BUILD_OPTIONS="parallel=8 nocheck"

debuild -uc -us


echo "*******************************************************************"
echo "* VERIFY OUTPUT MANIFEST"
echo "*******************************************************************"

echo "TODO"

echo "*******************************************************************"
echo "* DEB-DPDK BUILD SUCCESSFULLY COMPLETED"
echo "*******************************************************************"
